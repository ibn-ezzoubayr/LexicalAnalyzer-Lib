# مكتبة التحليل اللغوي

*اقرأ بلغات أخرى: [English](README.md), [Français](README_FR.md)*

مكتبة ++C للتحليل اللغوي ومحاكاة الآلات محدودة الحالات. تتيح هذه المكتبة إنشاء والعمل مع مصفوفات الانتقال للآلات محدودة الحالات، ومعالجة سلاسل الإدخال، والتحقق من قبول الكلمات بناءً على القواعد المحددة.

## المميزات

- تحميل وإنشاء مصفوفات الانتقال
- معالجة الكلمات المدخلة باستخدام المفردات المحددة
- تتبع المسارات خلال مصفوفة الانتقال
- التحقق من قبول الكلمات
- سرد جميع الكلمات الصالحة بطول محدد
- تحميل مفردات مخصصة من الملفات

## التثبيت

هذه مكتبة تعتمد على ملف الرأس فقط. لاستخدامها في مشروعك:

1. انسخ `compilation_emsi.h` و `compilation_emsi.cpp` إلى مجلد مشروعك
2. قم بتضمين ملف الرأس في الكود الخاص بك:
```cpp
#include "compilation_emsi.h"
```

## الاستخدام

### الإعداد الأساسي

```cpp
// إنشاء نسخة من المحلل اللغوي
CompilationEmsi lexer;

// تحميل المفردات من ملف
lexer.loadVocabulary("vocabulary.txt");
```

### تحميل مصفوفة الانتقال

يمكنك تحميل مصفوفة الانتقال إما من ملف أو إنشائها تفاعلياً:

```cpp
// التحميل من ملف
int** matrix = lexer.matrice_file("matrix.txt");

// أو الإنشاء التفاعلي
int** matrix = lexer.matrice();
```

### معالجة الكلمات

```cpp
// معالجة كلمة بطول محدد
int length = 3;
int* word = lexer.Mot(length);

// تتبع الكلمة خلال المصفوفة
int result = lexer.trace(matrix, word, length);

// التحقق من قبول الكلمة
lexer.reconaissance(result);
```

### الدوال المساعدة

```cpp
// عرض مصفوفة الانتقال
lexer.displayMatrix(matrix);

// سرد جميع الكلمات الصالحة بطول 3
lexer.lister_mot(matrix);
```

## تنسيقات الملفات

### ملف المفردات (vocabulary.txt)
- سطر واحد يحتوي على رموز مفصولة بفواصل
- مثال:
```
a,b,c
```

### ملف المصفوفة (matrix.txt)
- السطر الأول: عدد الصفوف والأعمدة
- الأسطر التالية: قيم مصفوفة الانتقال
- مثال:
```
3 3
1 0 2
2 1 0
0 2 1
```

## توثيق الدوال

### `loadVocabulary(const char* filename)`
تحميل المفردات (الأبجدية) من ملف.
- **المعاملات**: `filename` - مسار ملف المفردات
- **الاستثناءات**: `std::runtime_error` إذا تعذر فتح الملف

### `matrice_file(const char* filename)`
تحميل مصفوفة الانتقال من ملف.
- **المعاملات**: `filename` - مسار ملف المصفوفة
- **القيمة المرجعة**: مصفوفة ثنائية الأبعاد تمثل مصفوفة الانتقال
- **الاستثناءات**: `std::runtime_error` إذا تعذر فتح الملف أو إذا كانت أبعاد المصفوفة لا تتطابق مع المفردات

### `matrice()`
إنشاء مصفوفة انتقال من خلال إدخال المستخدم.
- **القيمة المرجعة**: مصفوفة ثنائية الأبعاد تمثل مصفوفة الانتقال

### `Mot(int taille)`
تحويل كلمة الإدخال إلى فهارس رموز بناءً على المفردات.
- **المعاملات**: `taille` - طول الكلمة
- **القيمة المرجعة**: مصفوفة من الفهارس المقابلة لرموز الإدخال

### `trace(int** M, int* T, int taille)`
تتبع مسار في مصفوفة الانتقال لكلمة معينة.
- **المعاملات**:
  - `M` - مصفوفة الانتقال
  - `T` - مصفوفة فهارس الرموز
  - `taille` - طول الكلمة
- **القيمة المرجعة**: الحالة النهائية (-1 إذا تم الرفض)

### `reconaissance(int tr)`
طباعة ما إذا كانت الكلمة مقبولة بناءً على نتيجة التتبع.
- **المعاملات**: `tr` - الحالة النهائية من دالة التتبع

### `displayMatrix(int** M)`
عرض مصفوفة الانتقال مع رؤوس المفردات.
- **المعاملات**: `M` - مصفوفة الانتقال المراد عرضها

### `lister_mot(int** M)`
سرد جميع الكلمات الصالحة بطول 3 التي يقبلها الآلي.
- **المعاملات**: `M` - مصفوفة الانتقال

## معالجة الأخطاء

تتضمن المكتبة معالجة أساسية للأخطاء:
- عمليات الملفات ترفع استثناءات عندما لا يمكن فتح الملفات
- التحقق من صحة الإدخال لرموز المفردات
- التحقق من صحة أبعاد المصفوفة

## إدارة الذاكرة

تذكر تحرير الذاكرة للمصفوفات بشكل صحيح عند الانتهاء:
```cpp
// تنظيف المصفوفة
for (int i = 0; i < rows; i++) {
    delete[] matrix[i];
}
delete[] matrix;
```

## مثال

هذا مثال كامل لاستخدام المكتبة:

```cpp
#include "compilation_emsi.h"
#include <iostream>

int main() {
    try {
        CompilationEmsi lexer;
        
        // تحميل المفردات
        lexer.loadVocabulary("vocabulary.txt");
        
        // تحميل مصفوفة الانتقال
        int** matrix = lexer.matrice_file("matrix.txt");
        
        // عرض المصفوفة
        lexer.displayMatrix(matrix);
        
        // معالجة كلمة بطول 3
        int* word = lexer.Mot(3);
        
        // التحقق من قبول الكلمة
        int result = lexer.trace(matrix, word, 3);
        lexer.reconaissance(result);
        
        // سرد جميع الكلمات الصالحة
        lexer.lister_mot(matrix);
        
        // التنظيف
        for (int i = 0; i < lexer.rows; i++) {
            delete[] matrix[i];
        }
        delete[] matrix;
        delete[] word;
        
    } catch (const std::exception& e) {
        std::cerr << "خطأ: " << e.what() << std::endl;
        return 1;
    }
    
    return 0;
}
```
